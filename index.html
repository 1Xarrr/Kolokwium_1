<!DOCTYPE html>
<html>
<head>
  <style>
    .element {
      width: 100px;
      height: 100px;
      background-color: rgb(90, 90, 90);
      margin-bottom: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="element" onclick="changeColor(1)"></div>
  <div class="element" onclick="changeColor(2)"></div>
  <div class="element" onclick="changeColor(3)"></div>

  <script>
    var elements = document.querySelectorAll('.element');
    var currentColorIndex = 0;
    var colors = ['red', 'yellow', 'green'];

    function changeColor(elementIndex) {
      for (var i = 0; i < elements.length; i++) {
        if (i === elementIndex - 1) {
          elements[i].style.backgroundColor = colors[currentColorIndex];
        } else {
          elements[i].style.backgroundColor = 'gray';
        }
      }
      currentColorIndex = (currentColorIndex + 1) % colors.length;
    }

    function autoChangeColor() {
      changeColor(currentColorIndex + 1);
      setTimeout(autoChangeColor, getInterval());
    }

    function getInterval() {
      if (currentColorIndex === 0) {
        return 5000; 
      } else if (currentColorIndex === 1) {
        return 5000; 
      } else {
        return 5000; 
      }
    }

    autoChangeColor();
  </script>
</body>
</html>